<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Todo List App</title>
  </head>
  <body>
    <div id="todo">
      <header>
        <h1>Todo List - ëª©ë¡ ì¡°íšŒ :)</h1>
        <p>íŒŒì¼ ê²½ë¡œ: <span id="filepath"></span></p>
      </header>
      <div id="main">
        <div id="container">
          <ul>
            <li>
              <h2>ì‡¼í•‘ ëª©ë¡</h2>
              <div class="todoinput">
                <input type="text" autofocus />
                <button type="button">ì¶”ê°€</button>
              </div>
              <ul class="todolist">
                <li>
                  <span>1</span>
                  <span><s>ìƒ˜í”Œ1</s></span>
                  <button type="button">ì‚­ì œ</button>
                </li>
                <li>
                  <span>2</span>
                  <span>ìƒ˜í”Œ2</span>
                  <button type="button">ì‚­ì œ</button>
                </li>
                <li>
                  <span>3</span>
                  <span>ìƒ˜í”Œ3</span>
                  <button type="button">ì‚­ì œ</button>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
      <footer>
        <p>ë©‹ìŸì´ ì‚¬ìì²˜ëŸ¼ FrontEnd BootCamp</p>
      </footer>
    </div>

    <script type="text/javascript">
      // http://localhost:5500/workspace-ins/ch01-buildup/todolist/sample/
      // ['http://localhost:5500/workspace-ins/', '/ch01-buildup/todolist/sample/']
      document.querySelector('#filepath').textContent = `ch${document.URL.split('/ch')[1]}index.html`;

      // ìƒ˜í”Œ ëª©ë¡ (Object-shaped datas we get from DB before ex. vanilla-project)
      const itemList = [
        { no: 1, title: 'ë‘ë¶€', done: true },
        { no: 2, title: 'ê³„ë€', done: false },
        { no: 3, title: 'ë¼ë©´', done: true },
      ];

      // ul ìš”ì†Œ
      const todolistEl = document.querySelector('.todolist');

      // ê¸°ì¡´ ëª©ë¡ ì‚­ì œ
      while(todolistEl.firstChild) {
        todolistEl.firstChild.remove();
      }

      // ItemList ë°°ì—´ì˜ ê° todo ì•„ì´í…œì„ í™”ë©´ì— ì¶”ê°€
      itemList.forEach((item, i) => {
        const liEl = getTodoItemElem(item);

        // ğŸš¨ appendChildì˜ ë§¤ê°œë³€ìˆ˜ì—ëŠ” ë…¸ë“œ ê°ì²´ê°€ ì™€ì•¼í•˜ëŠ”ë°, string(ë¬¸ìì—´ = ğŸ”´ getTodoItemElem í•¨ìˆ˜ ë¦¬í„´ê°’)ì´ ì™”ë‹¤!
        // todolistEl.appendChild(liEl) // ğŸ’¥Error

        // ğŸ”´ innerHTMLì„ ì‚¬ìš©í•˜ë©´, ë¸Œë¼ìš°ì €ê°€ ì•Œì•„ì„œ ìë™ìœ¼ë¡œ string -> htmlë¡œ ë°”ê¿”ì„œ ì¶œë ¥í•˜ê¸° ë•Œë¬¸ì— ê´œì°®ë‹¤ ....
        // todolistEl.innerHTML += liEl;
        // ë‹¤ë§Œ, ë¬¸ìì—´ì´ê¸° ë•Œë¬¸ì— ì´ë²¤íŠ¸ì¶”ê°€ë¥¼ í•˜ì§€ ëª»í•œë‹¤ëŠ” ë‹¨ì  ì¡´ì¬
        // ë¬¸ìì—´ì±„ë¡œ í•˜ë©´ html ì½”ë“œ ë§Œë“œëŠ” ê²ƒì€ ê°„í¸í•˜ì§€ë§Œ, ë”ì— ì¶”ê°€í•œ ë‹¤ìŒì— ì¿¼ë¦¬ì…€ë ‰í„°ë¡œ ë˜ êº¼ë‚´ê³ , addEventlistenerë¥¼ ì¶”ê°€í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì´ë ‡ê²Œ ë˜ë©´ ì½”ë“œê°€ ë¶„ì‚°ë˜ê³  ë³µì¡í•´ì§...
        // ğŸŸ  ì´ ë°©ë²• ì•ˆ ì“°ê³ , ë” ê°ì²´ë¥¼ ì²˜ìŒë¶€í„° ë§Œë“¤ì–´ì„œ ë°˜í™˜í•˜ë„ë¡ ì‘ì„±í•˜ì.
        todolistEl.appendChild(liEl) // ì—¬ê¸°ì„œëŠ” ì—ëŸ¬ ë°œìƒâŒ
        // todolistEl.innerHTML = liEl; // [object HTMLLiElement] => ë”ë…¸ë“œ ê°ì²´ì—¬ì„œ HTMLLiElementë¼ê³  ì¶œë ¥ë˜ëŠ” ê²ƒ ê°™ë‹¤..
      })

      // í•œê±´ì˜ Todo ê°ì²´ë¥¼ ë°›ì•„ì„œ âœ¨DOM ê°ì²´ë¡œ ë§Œë“¤ì–´âœ¨ ë°˜í™˜
      function getTodoItemElem(item){
        // ğŸ”´
        // return (`
        //     <li>
        //       <span>${item.no}</span>
        //       <span>${item.done ? `<s>${item.title}</s>` : item.title}</s>}</span>
        //       <button type="button">ì‚­ì œ</button>
        //     </li>
        // `)

        // ğŸŸ  ë” ìš”ì†Œë“¤ ìƒì„±
        // <li></li> ìƒì„±
        const liElem = document.createElement('li');
        // <span> ìƒì„±
        const noElem = document.createElement('span');
        // <span> ìƒì„±
        const titleElem = document.createElement('span');
        // <button></button> ìƒì„±
        const deleteElem = document.createElement('button');


        // í…ìŠ¤íŠ¸ ë…¸ë“œë“¤ ìƒì„±
        // 1
        const noTxt = document.createTextNode(item.no);
        // ìƒ˜í”Œ1
        const titleTxt = document.createTextNode(item.title);
        // ì‚­ì œ
        const deleteTxt = document.createTextNode('ì‚­ì œ');

        // <span>1</span>
        noElem.appendChild(noTxt);

        // <span><s>ìƒ˜í”Œ1</s></span>
        if (item.done) {
            // ì™„ë£Œëœ ê²ƒë“¤ -> cross out
            const sElem = document.createElement('s');
            // <s>ìƒ˜í”Œ1</s> ğŸ’¥appendChildëŠ” ì´ë™ê°œë…! (ì—¬ê¸°ì„œ ê³ ë ¤ë˜ì§„ X)
            sElem.appendChild(titleTxt);
            // <span><s>ìƒ˜í”Œ1</s></span>
            titleElem.appendChild(sElem);
        } else {
            // ë¯¸ì™„ë£Œ (<span>ìƒ˜í”Œ1</span>)
            titleElem.appendChild(titleTxt);
        }

        // <button type="button">ì‚­ì œ</button>
        deleteElem.setAttribute('type', 'button');
        deleteElem.appendChild(deleteTxt);

        // <li></li>ì— <span> ë‘ ê°œ ì¶”ê°€, <button>ë„ ì¶”ê°€
        liElem.appendChild(noElem);
        liElem.appendChild(titleElem);
        liElem.appendChild(deleteElem);

        return liElem;
      }


      // í• ì¼ ì¶”ê°€
      function addItem(title){

      }

      // ì™„ë£Œ/ë¯¸ì™„ë£Œ ì²˜ë¦¬
      function toggleDone(no){

      }

      // í• ì¼ ì‚­ì œ
      function deleteItem(no){

      }
    </script>
  </body>
</html>
