<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Counter</title>
  </head>
  <body>
    <div id="root"></div>

    <script type="module">
      import Yong from './yong.js';


      function Header() {
        return (
          Yong.createElement('header', null,
            Yong.createElement('h1', null, 'Counter - ìƒíƒœ ë³€ê²½ì‹œ ìë™ ë¦¬ë Œë”ë§'),
            Yong.createElement('p', null, 'íŒŒì¼ ê²½ë¡œ: ',
              Yong.createElement('span', { id: 'filepath' }, `ch${document.URL.split('/ch')[1]}index.html`)))
        )
      }

      function Counter() {
        // ì»´í¬ë„ŒíŠ¸ëŠ” ê¸°ëŠ¥(í•¨ìˆ˜)ê¹Œì§€ ê°™ì´ ê°€ì§€ê³  ìˆì–´ì•¼ ëœë‹¤.
        // ì»´í¬ë„ŒíŠ¸ì—ì„œ UI, UIì—ì„œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ê¹Œì§€ í•¨ê»˜ ì²˜ë¦¬í•˜ë©´ ê°œë°œìƒì‚°ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì´ ë†’ì•„ì§„ë‹¤. => "ì»´í¬ë„ŒíŠ¸í™”"
        // ì •ë§ ì¬ì‚¬ìš©ì„ í•˜ê³  ì‹¶ë‹¤ë©´, scriptì•ˆì— ë¬¶ì–´ë†“ì§€ ë§ê³ , ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³„ê°œì˜ jsíŒŒì¼ë¡œ ì €ì¥í•´ ì„í¬íŠ¸í•´ì„œ ì¨ì•¼í•œë‹¤.
        // âœ¨
        const [count, setCount] = Yong.useState(10);
        // setCount: ê°’(10)ì„ ìˆ˜ì •í•  ë•Œ ì‚¬ìš©í•  í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì¤„ ì˜ˆì •.

        const handleDown = () => {
        // TODO: ë°ì´í„° ê°±ì‹  ğŸ‘‰ í™”ë©´ê°±ì‹ ì„ ë”°ë¡œ í•´ì£¼ì§€ ì•Šì•„ë„, yong ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„í¬íŠ¸í•´ì„œ ì–˜ë³´ê³  ì‹¬ë¶€ë¦„ì‹œí‚¬ ê²ƒì´ê¸° ë•Œë¬¸ì—, ë°ì´í„°(ìƒíƒœê°’)ë§Œ ì˜ ì œì–´í•˜ë©´ í™”ë©´ì€ ì•Œì•„ì„œ ìë™ìœ¼ë¡œ ê°±ì‹ ë˜ë„ë¡ ë§Œë“¤ ê²ƒì„!!!

        // âœ¨ useState()ë¥¼ ì´ìš©í•´ ê°’ì„ ë°”ê¿€ ê²½ìš°, constë¡œ ì„ ì–¸ë¼ìˆê¸° ë•Œë¬¸ì—
        // ì§ì ‘ì ìœ¼ë¡œ count--/++ìœ¼ë¡œ ê°’ì„ ë°”ê¿€ ê²½ìš° ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤!!
        // ì—ëŸ¬ ì°¾ê¸° ì‰¬ì›€.. -> ì•„, ë§ë‹¤! ê°’ ë³€ê²½ì„ ì§ì ‘ì ìœ¼ë¡œ í•˜ì§€ ë§ê³ , ì¹œì ˆí•œ setCountë¼ëŠ” ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì•¼ê² êµ¬ë‚˜! ë¼ëŠ” ìƒê°ì´ ë“ ë‹¤ ã…ã…
        setCount(count - 1);

        // // TODO: í™”ë©´ ê°±ì‹ 
        // const counterSpan = document.querySelector('#counter > span');
        // counterSpan.textContent = count;
        };

        const handleUp = () => {
          // count++;
          setCount(count + 1);

          // const counterSpan = document.querySelector('#counter > span');
          // counterSpan.textContent = count;
        };

        const handleReset = event => {
          // count = 0;
          setCount(0);
          // const counterSpan = document.querySelector('#counter > span');
          // counterSpan.textContent = count;
        };

        return (
          Yong.createElement('div', { id: 'counter' },
            Yong.createElement('button', { type: 'button', onclick: handleDown}, '-'),
            Yong.createElement('button', { type: 'button', onclick: (event) => handleReset(event)}, 0),
            Yong.createElement('button', { type: 'button', onclick: handleUp}, '+'),
            Yong.createElement('span', null, count))
        )
      }

      // ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œì‘ì 
      function App(){
        return (
          Yong.createElement('div', { id: 'app' },
            Header,
            Counter)
        );
      }

      Yong.createRoot(document.getElementById('root')).render(App);
    </script>
  </body>
</html>
